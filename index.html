<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Weva Live2D Working</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #111;
    }
    #live2dCanvas {
        position: fixed;
        bottom: 0;
        right: 0;
        width: 450px;
        height: 700px;
        pointer-events: none;
    }
</style>

<!-- Live2D Cubism Core -->
<script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>

<!-- PixiJS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/6.5.8/browser/pixi.min.js"></script>

<!-- Pixi Live2D v4 -->
<script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display@0.4.0/dist/index.min.js"></script>

</head>
<body>

<canvas id="live2dCanvas"></canvas>

<script>
(async () => {

    console.log("ğŸ”„ Loading Weva model...");

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    const app = new PIXI.Application({
        view: document.getElementById("live2dCanvas"),
        autoStart: true,
        transparent: true,
        resizeTo: window,
    });

    try {
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        const model = await PIXI.live2d.Live2DModel.from("Haru/Haru.model3.json");

        model.scale.set(0.35);      // ØªÙƒØ¨ÙŠØ±/ØªØµØºÙŠØ±
        model.x = window.innerWidth - 450;
        model.y = window.innerHeight - 700;

        app.stage.addChild(model);

        console.log("âœ… Model loaded successfully!");

        // Ø­Ø±ÙƒØ© Ø±Ø£Ø³ ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¨Ø³ÙŠØ·Ø©
        app.ticker.add(() => {
            const t = performance.now() / 2000;
            model.internalModel.coreModel.setParameterValueById("ParamAngleY", Math.sin(t) * 15);
            model.internalModel.coreModel.setParameterValueById("ParamAngleX", Math.sin(t * 0.8) * 10);
        });

    } catch (err) {
        console.error("âŒ Live2D load error:", err);
        alert("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù†Ù…ÙˆØ°Ø¬ Weva â€” ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ø³Ø§Ø±Ø§Øª");
    }

})();
</script>

</body>
</html>
