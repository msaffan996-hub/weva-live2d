<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Weva Live2D Model</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        background: linear-gradient(135deg, #1e1e3f, #131327);
        height: 100vh;
    }
    #live2dCanvas {
        position: fixed;
        bottom: 0;
        right: 0;
        width: 450px;
        height: 650px;
    }
</style>
</head>
<body>

<canvas id="live2dCanvas"></canvas>

<!-- مكتبات Live2D الرسمية -->
<script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/6.5.8/browser/pixi.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/Live2D/CubismWebFramework/dist/live2dcubismframework.js"></script>

<script>
/* -----------------------------
   تحميل موديل Live2D - Cubism 3
--------------------------------*/
const modelUrl = "https://msaffan996-hub.github.io/weva-live2d/Haru/Haru.model3.json";

let app = new PIXI.Application({
    view: document.getElementById("live2dCanvas"),
    autoStart: true,
    backgroundAlpha: 0,
    resizeTo: window
});

async function loadModel() {
    try {
        const model = await Live2DCubismFramework.Model3Loader.loadModel(modelUrl);

        // إضافة الموديل إلى المسرح
        app.stage.addChild(model);

        // تعديل الحجم والموقع
        model.scale.set(0.45, 0.45);
        model.x = window.innerWidth - 500;
        model.y = window.innerHeight - 700;

        console.log("Live2D Weva Loaded Successfully!");

    } catch (err) {
        alert("❌ خطأ: فشل تحميل موديل Weva – تحقق من المسار");
        console.error(err);
    }
}

loadModel();
</script>

</body>
</html>
