<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Weva Live2D â€” Haru Test</title>

  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: linear-gradient(135deg, #1e1e3f, #111120);
      height: 100vh;
    }
    #live2dCanvas {
      position: fixed;
      right: 0;
      bottom: 0;
      width: 400px;
      height: 600px;
      pointer-events: none;
    }
  </style>

  <!-- ğŸ”¹ Ù…ÙƒØªØ¨Ø© Ø§Ù„ÙƒÙˆØ± Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù€ Live2D Cubism -->
  <script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>

  <!-- ğŸ”¹ PixiJS -->
  <script src="https://cdn.jsdelivr.net/npm/pixi.js@6.5.8/dist/browser/pixi.min.js"></script>

  <!-- ğŸ”¹ pixi-live2d-display (ØªØ¯Ø¹Ù… model3.json) -->
  <script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display@0.4.0/dist/index.min.js"></script>
</head>

<body>
  <canvas id="live2dCanvas"></canvas>

  <script>
  (async () => {
    const canvas = document.getElementById("live2dCanvas");

    try {
      // Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ Pixi
      const app = new PIXI.Application({
        view: canvas,
        autoStart: true,
        backgroundAlpha: 0,
        resizeTo: window
      });

      const { Live2DModel } = PIXI.live2d;

      // ğŸ”¹ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„Ù…ÙˆØ¯ÙŠÙ„ (Ù†Ø³Ø¨ÙŠØ§Ù‹ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø±ÙŠØ¨Ùˆ)
      const modelUrl = "Haru/Haru.model3.json";

      console.log("Loading model from:", modelUrl);

      const model = await Live2DModel.from(modelUrl);

      // Ø¶Ø¨Ø· Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ù…ÙƒØ§Ù†
      const scale = 0.25;
      model.scale.set(scale);

      model.x = window.innerWidth - model.width * 0.8;
      model.y = window.innerHeight - model.height;

      app.stage.addChild(model);

      console.log("âœ… Haru Live2D Loaded Successfully!");
    } catch (e) {
      alert("âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù…ÙˆØ¯ÙŠÙ„ ÙˆÙŠÙØ§:\n" + e);
      console.error("Live2D load error:", e);
    }
  })();
  </script>
</body>
</html>
